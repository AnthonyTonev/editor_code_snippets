{
"title": "socket.io_chat_package",
"description": "",
"package":[{"code":"{\n  \"name\": \"project\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"type\":\"module\",\n  \"scripts\": {\n    \"test\": \"test\",\n    \"start\": \"nodemon index.js\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"express\": \"^4.17.1\",\n    \"socket.io\": \"^2.3.0\"\n  },\n  \"devDependencies\": {\n    \"nodemon\": \"^2.0.4\"\n  }\n}\n\n\n","title":"package.json","description":""},{"code":"import express from 'express';\nimport HTTP from 'http';\nimport socket from 'socket.io';\nconst app = express();\n\nconst http = HTTP.createServer(app);\nconst io = socket(http);\n\n\napp.use(express.static('public'))\n\napp.get('/', (req, res) => {\n  res.sendFile(__dirname + '/public/index.html');\n});\n\nio.on('connection', (socket) => {\n  console.log('a user connected');\n});\n\nio.on('connection', (socket) => {\n    socket.broadcast.emit('hello world');\n\n  \n  console.log('a user connected');\n  socket.on('disconnect', () => {\n    console.log('user disconnected');\n  });\n  \n  socket.on('chat message', (msg) => {\n    io.emit('chat message', msg);\n  });\n});\n\nhttp.listen(4000, () => {\n  console.log('listening on *:4000');\n});\n\n","title":"index.js","description":""},{"code":"window.addEventListener('load',()=>{\n    const socket = io();\n    document.getElementsByTagName('form')[0].addEventListener('submit',function(e){\n      e.preventDefault(); // prevents page reloading\n      socket.emit('chat message', document.getElementById('m').value);\n      document.getElementById('m').value = '';\n      return false;\n    });\n    socket.on('chat message', function(msg){\n      const li = document.createElement('li');\n      li.textContent = msg;\n  \tdocument.getElementById('messages').appendChild(li);\n    });\n  });","title":"public/client.js","description":""},{"code":"<!doctype html>\n<html>\n  <head>\n    <title>Socket.IO chat</title>\n    <style>\n      * { margin: 0; padding: 0; box-sizing: border-box; }\n      body { font: 13px Helvetica, Arial; }\n      form { background: #000; padding: 3px; position: fixed; bottom: 0; width: 100%; }\n      form input { border: 0; padding: 10px; width: 90%; margin-right: 0.5%; }\n      form button { width: 9%; background: rgb(130, 224, 255); border: none; padding: 10px; }\n      #messages { list-style-type: none; margin: 0; padding: 0; }\n      #messages li { padding: 5px 10px; }\n      #messages li:nth-child(odd) { background: #eee; }\n    </style>\n  </head>\n  <body>\n    <ul id=\"messages\"></ul>\n    <form action=\"\">\n      <input id=\"m\" autocomplete=\"off\" /><button>Send</button>\n    </form>\n\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js\"></script>\n<script src=\"client.js\"></script>\n  </body>\n</html>","title":"public/index.html","description":""}]
}
