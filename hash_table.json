{
   "title":"hash_table",
   "description":"",
   "code":"\nclassHashTable{\n#maxCoef;\n#minCoef;\n#count=0;\n#elements;\nconstructor(size=8,mincoef=0.25,maxcoef=0.5){\nthis.#elements=Array.from({length:size}).fill([]);\nthis.#minCoef=mincoef;\nthis.#maxCoef=maxcoef;\n}\n//оразмеряванеО(n)\n#resizeBounds=function(size){\nconstflattenArray=this.#elements.flat(1);\nthis.#elements=Array.from({length:Math.floor(size)}).fill([]);\n//тъйкатостойноститесанечетнитеиндексиитерирамесамополовинатанодостъпвамеи2-та\nfor(leti=0;i<flattenArray.length;i+=2){\nthis.#insert(flattenArray[i],flattenArray[i+1])\n}\n}\n//когадаоразмеряваикак(вкаквапосокаиколко)\n#updateElementsBounds=function(){\nif(this.#count/this.#elements.length>=this.#maxCoef){\nthis.#count=0;\nthis.#resizeBounds(this.#elements.length*2);\n}\nelseif(this.#count/this.#elements.length<this.#minCoef){\nthis.#count=0;\nthis.#resizeBounds(this.#elements.length/2)\n}\n}\n//сравнителноокхешалгоритъмкопиранотStackOverflowO(n),носамозамалъкстринг\n#getHashCode=(string)=>{\nlethash=0;\nif(!string)returnhash;\nfor(leti=0;i<string.length;i++){\nconstchar=string.charCodeAt(i);\nhash=((hash<<5)-hash)+char;\nhash=hash&hash;\n}\nreturn(hash<0?hash*-1+1:hash)\n}\n//ковертираненахашвиндекс\n#convertHashToIndex=function(hash){\nreturnhash%this.#elements.length;\n};\n\n//скритметодзадобавяненаелементО(1)\n#insert=function(key,value){\nthis.#count++;\nconstindex=this.#convertHashToIndex(this.#getHashCode(key));\nconstselection=this.#elements[index];\nif(selection.length===0){\nthis.#elements[index]=[key,value];\n}else{\nconstdepthIndex=this.#findDepthIndexByKey(index,key);\nif(selection[depthIndex]===key){\nselection[depthIndex+1]=value;\n}else{\nselection.push(key,value);\n}\n}\n}\n//публиченметодзадобавяненаелементО(1)\nset(key,value=null){\nthis.#insert(key,value)\nif(this.#count>this.#elements.length/2){\nthis.#updateElementsBounds();\n}\n}\n\n//достъпваненаелементО(1)~О(n)рядковзависимостотдълбочината(средно4елемент)\nget(key){\nconstindex=this.#convertHashToIndex(this.#getHashCode(key));\nconstselection=this.#elements[index];\nif(selection.length===2&&selection[0]===key)returnselection[1];\nelseif(selection.length>2){\nconstdepthIndex=this.#findDepthIndexByKey(index,key);\nreturnselection[depthIndex+1];\n}\nreturnnull;\n}\n//премахваненаелементО(1)\ndelete(key){\nletvalue=null;\nconstindex=this.#convertHashToIndex(this.#getHashCode(key));\nconstselection=this.#elements[index];\nconstlen=selection.length;\nif(len===2){\nvalue=selection[1];\nselection.length=0;\n}elseif(len>2){\nconstbottom=[selection[len-2],selection[len-1]];\nif(bottom[0]===key){\nvalue=selection[len-1];\nselection.length-=2;\n}else{\n//O(n)къдетоneдълбочинатанаклетката\nconstkeyIndex=this.#findDepthIndexByKey(index,key);\n//жунглираненаиндексите-слагамвкраяинамалямедължинатанамасиваO(?)\nvalue=selection[keyIndex+1]\nselection[keyIndex]=bottom[0];\nselection[keyIndex+1]=bottom[1];\nselection.length-=2;\n}\n}\nthis.#count--;\nif(this.#count<this.#elements.length){\nthis.#updateElementsBounds();\n}\nreturnvalue;\n}\n\ngetcount(){\nreturnthis.#count;\n}\n//ползвасена2места\n#findDepthIndexByKey=function(index,key){\nconstselection=this.#elements[index];\n//тъйкатостойноститесанечетнитеиндексиитерирамесамополовината\nfor(leti=0;i<selection.length;i+=2){\nif(selection[i]===key){\nreturni;\n}\n}\n}\n//ВзиманенастойностиO(n)\nvalues(){\nconstelements=this.#elements.flat(1);\nconstvalues=[];\n//тъйкатостойноститесанечетнитеиндексиитерирамесамополовината\nfor(leti=1;i<=elements.length;i+=2){\nvalues.push(elements[i]);\n}\nreturnvalues;\n}\n//ВзиманенаключовеO(n)\nkeys(){\nconstelements=this.#elements.flat(1);\nconstkeys=[];\n//тъйкатостойноститесанечетнитеиндексиитерирамесамополовината\nfor(leti=0;i<elements.length;i+=2){\nkeys.push(elements[i]);\n}\nreturnkeys;\n}\n//Взиманена[ключове,стойности]O(n)\nentries(){\nconstelements=this.#elements.flat(1);\nconstentries=[];\n//тъйкатостойноститесанечетнитеиндексиитерирамесамополовината\nfor(leti=0;i<elements.length;i+=2){\nentries.push([elements[i],elements[i+1]]);\n}\nreturnentries;\n}\n}\n"
}





